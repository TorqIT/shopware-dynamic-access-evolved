(window["webpackJsonpPlugintorq-dynamic-access-evolved"]=window["webpackJsonpPlugintorq-dynamic-access-evolved"]||[]).push([[113],{435:function(){},113:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}}),r(472);let{Component:n}=Shopware,{mapPropertyErrors:i}=n.getComponentHelper(),{EntityCollection:s,Criteria:o}=Shopware.Data;var a={template:'<sw-entity-multi-select\n        entity="category"\n        size="medium"\n        :entity-collection="categories"\n        :criteria="categoryCriteria"\n        resultLimit="100"\n        :context="categoryContext"        \n        @update:entity-collection="setIds"\n        :disabled="!acl.can(\'torq_dynamic_access_evolved.editor\')" \n        :selectionDisablingMethod="isSelectionDisabled"\n    >\n    <template #result-item="{ item, index, isSelected, addItem, displayLabelProperty, isSelectionDisabled, descriptionPosition, highlightSearchTerm, searchTerm }">\n        <sw-select-result\n            :selected="isSelected(item)"\n            v-bind="{ item, index }"\n            :disabled="isSelectionDisabled(item)"\n            :description-position="descriptionPosition"\n            @item-select="addItem"\n        >\n            <span class="sw-condition-line-item-in-category__result-item">\n                <sw-highlight-text\n                    v-if="highlightSearchTerm"\n                    :text="displayLabelProperty(item)"\n                    :search-term="searchTerm"\n                />\n                <template v-else>\n                    {{ displayLabelProperty(item) }}\n                </template>\n\n                <sw-help-text\n                    v-if="item.productAssignmentType === \'product_stream\'"\n                    class="sw-condition-line-item-in-category__help-text"\n                    :text="$tc(\'global.sw-condition.condition.categoryWithProductStreamTooltip\')"\n                />\n            </span>\n\n            <template #description>\n                <slot\n                    name="result-description-property"\n                    v-bind="{ item }"\n                >\n                    \n                    {{ getCategoryBreadcrumb(item) }}\n                </slot>\n            </template>\n        </sw-select-result>\n    </template>\n</sw-entity-multi-select>',compatConfig:Shopware.compatConfig,emits:["on-selection"],inject:["repositoryFactory","acl"],props:{filter:{type:o.Filters,required:!0}},data(){return{categories:null,categoryIds:null==this.filter.queries||0==this.filter.queries.length?[]:this.filter.queries[0].value.split("|")}},computed:{categoryCriteria(){let e=new o(1,100);return e.addSorting(o.sort("name")),e},categoryContext(){return{...Shopware.Context.api,inheritance:!0}},categoryRepository(){return this.repositoryFactory.create("category")}},watch:{},created(){this.createdComponent()},methods:{createdComponent(){if(this.categories=new s(this.categoryRepository.route,this.categoryRepository.entityName,this.categoryContext),this.categoryIds.length<=0)return Promise.resolve();let e=new o(1,100);return e.setIds(this.categoryIds),e.addSorting(o.sort("name")),this.categoryRepository.search(e,this.categoryContext).then(e=>{this.categories=e})},setIds(e){this.categoryIds=e.getIds(),this.categories=e;let t=e.getIds();this.filter.type="multi",this.filter.operator="or",this.filter.queries=[o.equalsAny("categories.id",t),o.equalsAny("categoriesRo.id",t)]},getCategoryBreadcrumb(e){return e.breadcrumb&&0!==Object.keys(e.breadcrumb).length?Object.values(e.breadcrumb).join(" / "):e.name},isSelectionDisabled(){return!this.acl.can("torq_dynamic_access_evolved.editor")}}}},472:function(e,t,r){var n=r(435);n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals),(0,r(534).A)("1af41184",n,!0,{})},534:function(e,t,r){"use strict";function n(e,t){for(var r=[],n={},i=0;i<t.length;i++){var s=t[i],o=s[0],a={id:e+":"+i,css:s[1],media:s[2],sourceMap:s[3]};n[o]?n[o].parts.push(a):r.push(n[o]={id:o,parts:[a]})}return r}r.d(t,{A:function(){return g}});var i,s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var o={},a=s&&(document.head||document.getElementsByTagName("head")[0]),c=null,l=0,d=!1,u=function(){},p=null,h="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function g(e,t,r,i){d=r,p=i||{};var s=n(e,t);return y(s),function(t){for(var r=[],i=0;i<s.length;i++){var a=o[s[i].id];a.refs--,r.push(a)}t?y(s=n(e,t)):s=[];for(var i=0;i<r.length;i++){var a=r[i];if(0===a.refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete o[a.id]}}}}function y(e){for(var t=0;t<e.length;t++){var r=e[t],n=o[r.id];if(n){n.refs++;for(var i=0;i<n.parts.length;i++)n.parts[i](r.parts[i]);for(;i<r.parts.length;i++)n.parts.push(v(r.parts[i]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{for(var s=[],i=0;i<r.parts.length;i++)s.push(v(r.parts[i]));o[r.id]={id:r.id,refs:1,parts:s}}}}function f(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function v(e){var t,r,n=document.querySelector("style["+h+'~="'+e.id+'"]');if(n){if(d)return u;n.parentNode.removeChild(n)}if(m){var i=l++;t=w.bind(null,n=c||(c=f()),i,!1),r=w.bind(null,n,i,!0)}else t=C.bind(null,n=f()),r=function(){n.parentNode.removeChild(n)};return t(e),function(n){n?(n.css!==e.css||n.media!==e.media||n.sourceMap!==e.sourceMap)&&t(e=n):r()}}var b=(i=[],function(e,t){return i[e]=t,i.filter(Boolean).join("\n")});function w(e,t,r,n){var i=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var s=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function C(e,t){var r=t.css,n=t.media,i=t.sourceMap;if(n&&e.setAttribute("media",n),p.ssrId&&e.setAttribute(h,t.id),i&&(r+="\n/*# sourceURL="+i.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}}}]);